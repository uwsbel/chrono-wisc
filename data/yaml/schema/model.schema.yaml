type: object
required: [bodies]
properties:
  name:
    type: string
    description: Name of the model
  angle_degrees:
    type: boolean
    description: Whether angles are specified in degrees (true) or radians (false)
    default: true
  bodies:
    type: array
    description: List of bodies in the system
    items:
      type: object
      required: [name, location]
      properties:
        name:
          type: string
          description: Unique identifier for the body
        fixed:
          type: boolean
          description: Whether the body is fixed to ground
          default: false
        location:
          type: array
          description: Initial position [x, y, z] in meters
          items:
            type: number
          minItems: 3
          maxItems: 3
        orientation:
          type: array
          description: Initial orientation [roll, pitch, yaw] in radians or degrees
          items:
            type: number
          minItems: 3
          maxItems: 3
        mass:
          type: number
          description: Mass of the body in kg
          minimum: 0
        com:
          type: object
          description: Center of mass frame
          properties:
            location:
              type: array
              description: Center of mass position [x, y, z] in meters
              items:
                type: number
              minItems: 3
              maxItems: 3
            orientation:
              type: array
              description: Center of mass orientation [roll, pitch, yaw] in radians or degrees
              items:
                type: number
              minItems: 3
              maxItems: 3
        inertia:
          type: object
          description: Inertia properties
          properties:
            moments:
              type: array
              description: Principal moments of inertia [Ixx, Iyy, Izz] in kg⋅m²
              items:
                type: number
                minimum: 0
              minItems: 3
              maxItems: 3
            products:
              type: array
              description: Products of inertia [Ixy, Ixz, Iyz] in kg⋅m²
              items:
                type: number
              minItems: 3
              maxItems: 3

  joints:
    type: array
    description: List of joints connecting bodies
    items:
      type: object
      required: [name, type, body1, body2, location]
      properties:
        name:
          type: string
          description: Unique identifier for the joint
        type:
          type: string
          description: Type of joint
          enum: [lock, pointline, pointplane, revolute, spherical, prismatic, universal]
        body1:
          type: string
          description: Name of the first body to connect
        body2:
          type: string
          description: Name of the second body to connect
        location:
          type: array
          description: Joint location [x, y, z] in meters
          items:
            type: number
          minItems: 3
          maxItems: 3
        axis:
          type: array
          description: Axis of motion [x, y, z] for revolute/prismatic joints (unit vector)
          items:
            type: number
          minItems: 3
          maxItems: 3
        axis1:
          type: array
          description: First axis [x, y, z] for universal joint (unit vector)
          items:
            type: number
          minItems: 3
          maxItems: 3
        axis2:
          type: array
          description: Second axis [x, y, z] for universal joint (unit vector)
          items:
            type: number
          minItems: 3
          maxItems: 3
        bushing_data:
          type: object
          description: Bushing properties
          properties:
            stiffness_linear:
              type: number
              description: Linear stiffness
            damping_linear:
              type: number
              description: Linear damping
            stiffness_rotational:
              type: number
              description: Rotational stiffness
            damping_rotational:
              type: number
              description: Rotational damping
            DOF:
              type: object
              description: Degree of freedom specific properties
              properties:
                stiffness_linear:
                  type: number
                  description: Linear stiffness
                damping_linear:
                  type: number
                  description: Linear damping
                stiffness_rotational:
                  type: number
                  description: Rotational stiffness
                damping_rotational:
                  type: number
                  description: Rotational damping

  constraints:
    type: array
    description: List of constraints in the system
    items:
      type: object
      required: [name, type]
      properties:
        name:
          type: string
          description: Unique identifier for the constraint
        type:
          type: string
          enum: [DISTANCE, REVOLUTE-SPHERICAL, REVOLUTE-TRANSLATIONAL]
          description: Type of constraint
        body1:
          type: string
          description: Name of the first body to connect
        body2:
          type: string
          description: Name of the second body to connect
        point1:
          type: array
          description: First point [x, y, z] in meters
          items:
            type: number
          minItems: 3
          maxItems: 3
        point2:
          type: array
          description: Second point [x, y, z] in meters
          items:
            type: number
          minItems: 3
          maxItems: 3

  spring_dampers:
    type: array
    description: List of spring-damper elements
    items:
      type: object
      required: [name, type, body1, body2]
      properties:
        name:
          type: string
          description: Unique identifier for the element
        type:
          type: string
          enum: [tsda, rsda]
          description: Type of element
        body1:
          type: string
          description: Name of the first body to connect
        body2:
          type: string
          description: Name of the second body to connect
        point1:
          type: array
          description: First point [x, y, z] in meters for TSDA
          items:
            type: number
          minItems: 3
          maxItems: 3
        point2:
          type: array
          description: Second point [x, y, z] in meters for TSDA
          items:
            type: number
          minItems: 3
          maxItems: 3
        location:
          type: array
          description: Location [x, y, z] in meters for RSDA
          items:
            type: number
          minItems: 3
          maxItems: 3
        axis:
          type: array
          description: Axis [x, y, z] for RSDA (unit vector)
          items:
            type: number
          minItems: 3
          maxItems: 3
        free_length:
          type: number
          description: Free length for TSDA
        free_angle:
          type: number
          description: Free angle for RSDA
        spring_coefficient:
          type: number
          description: Linear spring coefficient
        damping_coefficient:
          type: number
          description: Linear damping coefficient
        spring_curve_data:
          type: array
          description: Nonlinear spring curve data [[displacement, force], ...]
          items:
            type: array
            items:
              type: number
            minItems: 2
            maxItems: 2
        damping_curve_data:
          type: array
          description: Nonlinear damping curve data [[velocity, force], ...]
          items:
            type: array
            items:
              type: number
            minItems: 2
            maxItems: 2
        preload:
          type: number
          description: Preload force/torque
        minimum_length:
          type: number
          description: Minimum length for TSDA
        maximum_length:
          type: number
          description: Maximum length for TSDA
        visualization:
          type: object
          description: Visualization settings for the element
          properties:
            type:
              type: string
              enum: [segment, spring]
              description: Type of visualization
            radius:
              type: number
              description: Radius of the visualization element
            color:
              type: array
              description: RGB color [r, g, b] in range [0, 1]
              items:
                type: number
              minItems: 3
              maxItems: 3

  motors:
    type: array
    description: List of motors in the system
    items:
      type: object
      required: [name, type, body1, body2, location, axis, actuation_type, actuation_function]
      properties:
        name:
          type: string
          description: Unique identifier for the motor
        type:
          type: string
          enum: [LINEAR, ROTATION]
          description: Type of motor
        body1:
          type: string
          description: Name of the first body to connect
        body2:
          type: string
          description: Name of the second body to connect
        location:
          type: array
          description: Motor location [x, y, z] in meters
          items:
            type: number
          minItems: 3
          maxItems: 3
        axis:
          type: array
          description: Motor axis [x, y, z] (unit vector)
          items:
            type: number
          minItems: 3
          maxItems: 3
        actuation_type:
          type: string
          enum: [POSITION, SPEED, FORCE]
          description: Type of actuation
        actuation_function:
          type: object
          required: [type]
          description: Function defining actuation
          properties:
            type:
              type: string
              enum: [CONSTANT, SINE]
              description: Function type
            value:
              type: number
              description: Constant value for CONSTANT type
            amplitude:
              type: number
              description: Amplitude for SINE type
            frequency:
              type: number
              description: Frequency for SINE type
            phase:
              type: number
              description: Phase for SINE type
        guide:
          type: string
          enum: [FREE, PRISMATIC, SPHERICAL]
          description: Guide constraint for linear motor
        spindle:
          type: string
          enum: [FREE, REVOLUTE, CYLINDRICAL]
          description: Spindle constraint for rotation motor
